<script src="../lib/fx.js"></script>

<!-- range -->
<script>
	const add = (a, b) => a + b;

	const range = (l) => {
		let i = -1;
		let res = [];
		while (++i < l) {
			// 바로 range 함수를 호출하면 배열 값이 평가되므로 이 부분이 호출된다.
			log(i, 'range');
			res.push(i);
		}
		return res;
	};

	var list = range(4);
	log(list);
	// log(reduce(add, list));
</script>

<!-- 느긋한 L.range -->
<script>
	const L = {};
	L.range = function* (l) {
		let i = -1;
		while (++i < l) {
			// next()를 호출해 순회하기 전까지는 이 부분으로 진입하지 않는다.
			log(i, 'L.range');
			yield i;
		}
	};

	var list = L.range(4);
	log(list);
	// log(reduce(add, list));
</script>
